{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const DATA_KEY = 'feedback-form-state';\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst form = document.querySelector('.feedback-form');\nconst input = form.querySelector('input');\nconst textarea = form.querySelector('textarea');\n\nform.addEventListener('submit', handlerSubmit);\nform.addEventListener('input', handlerInput);\n\npopulateData();\n\nfunction handlerInput(event) {\n  const { name, value } = event.target;\n\n  if (formData.hasOwnProperty(name)) {\n    formData[name] = value.trim();\n\n    localStorage.setItem(DATA_KEY, JSON.stringify(formData));\n  }\n}\n\nfunction populateData() {\n  try {\n    const savedData = JSON.parse(localStorage.getItem(DATA_KEY));\n    if (!savedData) return;\n\n    formData = { ...formData, ...savedData };\n\n    input.value = formData.email || '';\n    textarea.value = formData.message || '';\n  } catch (error) {\n    console.error('I catch an error:', error);\n    localStorage.removeItem(DATA_KEY);\n  }\n}\n\nfunction handlerSubmit(e) {\n  e.preventDefault();\n\n  const email = input.value.trim();\n  const message = textarea.value.trim();\n\n  if (!email || !message) {\n    alert('Fill please all fields');\n    return;\n  } else {\n    console.log(formData);\n    formData = { email: '', message: '' };\n\n    e.target.reset();\n    localStorage.removeItem(DATA_KEY);\n  }\n}\n"],"names":["DATA_KEY","formData","form","input","textarea","handlerSubmit","handlerInput","populateData","event","name","value","savedData","error","email","message"],"mappings":"wFAAA,MAAMA,EAAW,sBAEjB,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAWF,EAAK,cAAc,UAAU,EAE9CA,EAAK,iBAAiB,SAAUG,CAAa,EAC7CH,EAAK,iBAAiB,QAASI,CAAY,EAE3CC,IAEA,SAASD,EAAaE,EAAO,CAC3B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAE1BP,EAAS,eAAeQ,CAAI,IAC9BR,EAASQ,CAAI,EAAIC,EAAM,KAAI,EAE3B,aAAa,QAAQV,EAAU,KAAK,UAAUC,CAAQ,CAAC,EAE3D,CAEA,SAASM,GAAe,CACtB,GAAI,CACF,MAAMI,EAAY,KAAK,MAAM,aAAa,QAAQX,CAAQ,CAAC,EAC3D,GAAI,CAACW,EAAW,OAEhBV,EAAW,CAAE,GAAGA,EAAU,GAAGU,CAAS,EAEtCR,EAAM,MAAQF,EAAS,OAAS,GAChCG,EAAS,MAAQH,EAAS,SAAW,EACtC,OAAQW,EAAO,CACd,QAAQ,MAAM,oBAAqBA,CAAK,EACxC,aAAa,WAAWZ,CAAQ,CACjC,CACH,CAEA,SAASK,EAAc,EAAG,CACxB,EAAE,eAAc,EAEhB,MAAMQ,EAAQV,EAAM,MAAM,KAAI,EACxBW,EAAUV,EAAS,MAAM,KAAI,EAEnC,GAAI,CAACS,GAAS,CAACC,EAAS,CACtB,MAAM,wBAAwB,EAC9B,MACJ,MACI,QAAQ,IAAIb,CAAQ,EACpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnC,EAAE,OAAO,QACT,aAAa,WAAWD,CAAQ,CAEpC"}